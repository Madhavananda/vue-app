(function(){var t={90:function(t,e,r){"use strict";var a=r(9963),o=r(6252);const s={class:"header"},i={class:"header__wrapper container"},l=(0,o.uE)('<a href="#"><span class="header__info">Каталог</span></a><a class="header__logo" href="#"><img src="img/svg/logo-tech.svg" alt="Логотип интернет магазина Технозавррр" width="190" height="33"></a><a class="header__tel" href="tel:8 800 600 90 09"> 8 800 600 90 09 </a>',3),c=(0,o.uE)('<footer class="footer"><div class="footer__wrapper container"><ul class="footer__links"><li><a class="footer__link" href="#"> Каталог </a></li><li><a class="footer__link" href="tel:88006009009"> 8 800 600 90 09 </a></li><li><a class="footer__link" href="mailto:hi@technozavrrr.com"> hi@technozavrrr.com </a></li><li><a class="footer__link" href="#"> Распродажа </a></li><li><a class="footer__link footer__link--medium" href="#"> Заказать звонок </a></li></ul><ul class="footer__social social"><li class="social__item"><a class="social__link" href="#" aria-label="Вконтакте"><svg width="20" height="11" fill="currentColor"><use xlink:href="#icon-vk"></use></svg></a></li><li class="social__item"><a class="social__link" href="#" aria-label="Инстаграм"><svg width="17" height="17" fill="currentColor"><use xlink:href="#icon-insta"></use></svg></a></li><li class="social__item"><a class="social__link" href="#" aria-label="Facebook"><svg width="17" height="17" fill="currentColor"><use xlink:href="#icon-facebook"></use></svg></a></li><li class="social__item"><a class="social__link" href="#" aria-label="Twitter"><svg width="17" height="14" fill="currentColor"><use xlink:href="#icon-twitter"></use></svg></a></li><li class="social__item"><a class="social__link" href="#" aria-label="Telegram"><svg width="19" height="17" fill="currentColor"><use xlink:href="#icon-telegram"></use></svg></a></li></ul><p class="footer__desc"> Все права на материалы, находящиеся на сайте, охраняются в соответствии с законодательством РФ, в том числе об авторском праве и смежных правах. </p><ul class="footer__data"><li><a class="footer__link" href="#" target="_blank" rel="noopener" type="application/pdf"> Политика конфиденциальности </a></li><li><a class="footer__link" href="#" target="_blank" rel="noopener" type="application/pdf"> Публичная оферта </a></li></ul><span class="footer__copyright"> © 2023 Технозавррр </span></div></footer><div id="teleport-target"></div>',2);function n(t,e,r,a,n,u){const d=(0,o.up)("CartIndicator"),_=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("header",s,[(0,o._)("div",i,[l,(0,o.Wm)(d)])]),((0,o.wg)(),(0,o.j4)(_,{key:t.$route.fullPath})),c],64)}var u=r(3577);const d=(0,o._)("svg",{width:"30",height:"21",fill:"currentColor"},[(0,o._)("use",{"xlink:href":"#icon-cart"})],-1),_={class:"header__count","aria-label":"Количество товаров"};function p(t,e,r,a,s,i){const l=(0,o.up)("router-link");return(0,o.wg)(),(0,o.j4)(l,{class:"header__cart","aria-label":"Корзина с товарами",to:{name:"cart"}},{default:(0,o.w5)((()=>[d,(0,o._)("span",_,(0,u.zw)(t.$store.state.cartProducts.length),1)])),_:1})}var m={},h=r(3744);const f=(0,h.Z)(m,[["render",p]]);var g=f,b=r(3907),v={components:{CartIndicator:g},created(){const t=localStorage.getItem("userAccessKey");t&&this.updateUserAccessKey(t),this.loadCart()},methods:{...(0,b.nv)(["loadCart"]),...(0,b.OI)(["updateUserAccessKey"])}};const y=(0,h.Z)(v,[["render",n]]);var P=y,k=r(2119);const w={class:"content container"},C={class:"content__top content__top--catalog"},D=(0,o._)("h1",{class:"content__title"},"Каталог",-1),I={class:"content__info"},T={class:"content__catalog"},A={class:"catalog"},F={key:0},x={key:1},V=(0,o.Uk)(" Ошибка загрузки! ");function z(t,e,r,s,i,l){const c=(0,o.up)("ProductFilter"),n=(0,o.up)("ProductList"),d=(0,o.up)("BasePagination");return(0,o.wg)(),(0,o.iD)("main",w,[(0,o._)("div",C,[D,(0,o._)("span",I,(0,u.zw)(l.countProducts)+" товар ",1)]),(0,o._)("div",T,[(0,o.Wm)(c,{"price-from":i.filterPriceFrom,"onUpdate:price-from":e[0]||(e[0]=t=>i.filterPriceFrom=t),"price-to":i.filterPriceTo,"onUpdate:price-to":e[1]||(e[1]=t=>i.filterPriceTo=t),"category-id":i.filterCategoryId,"onUpdate:category-id":e[2]||(e[2]=t=>i.filterCategoryId=t)},null,8,["price-from","price-to","category-id"]),(0,o._)("section",A,[i.productsLoading?((0,o.wg)(),(0,o.iD)("div",F,"Загрузка товаров...")):(0,o.kq)("",!0),i.productsLoadingFailed?((0,o.wg)(),(0,o.iD)("div",x,[V,(0,o._)("button",{onClick:e[3]||(e[3]=(0,a.iM)(((...t)=>l.loadProducts&&l.loadProducts(...t)),["prevent"]))},"Повторить")])):(0,o.kq)("",!0),(0,o.Wm)(n,{products:l.products},null,8,["products"]),(0,o.Wm)(d,{modelValue:i.page,"onUpdate:modelValue":e[4]||(e[4]=t=>i.page=t),count:l.countProducts,"per-page":i.productsPerPage},null,8,["modelValue","count","per-page"])])])])}const E={class:"catalog__list"};function O(t,e,r,a,s,i){const l=(0,o.up)("ProductItem");return(0,o.wg)(),(0,o.iD)("ul",E,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.products,(t=>((0,o.wg)(),(0,o.j4)(l,{key:t.id,product:t},null,8,["product"])))),128))])}const U={class:"catalog__item"},$=["src","alt"],Z={class:"catalog__title"},K={href:"#"},M={class:"catalog__price"};function S(t,e,r,a,s,i){const l=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("li",U,[(0,o.Wm)(l,{class:"catalog__pic",to:{name:"product",params:{id:r.product.id}}},{default:(0,o.w5)((()=>[(0,o._)("img",{src:r.product.image,alt:r.product.title},null,8,$)])),_:1},8,["to"]),(0,o._)("h3",Z,[(0,o._)("a",K,(0,u.zw)(r.product.title),1)]),(0,o._)("span",M,(0,u.zw)(i.pricePretty),1)])}function L(t){return(new Intl.NumberFormat).format(t)}var W={data(){return{color:"#73B6EA"}},computed:{pricePretty(){return L(this.product.price)}},props:["product"]};const B=(0,h.Z)(W,[["render",S]]);var j=B,H={components:{ProductItem:j},props:["products"]};const q=(0,h.Z)(H,[["render",O]]);var N=q;const Y={class:"catalog__pagination pagination"},G=(0,o._)("li",{class:"pagination__item"},[(0,o._)("a",{class:"pagination__link pagination__link--arrow pagination__link--disabled","aria-label":"Предыдущая страница"},[(0,o._)("svg",{width:"8",height:"14",fill:"currentColor"},[(0,o._)("use",{"xlink:href":"#icon-arrow-left"})])])],-1),R=["onClick"],Q=(0,o._)("li",{class:"pagination__item"},[(0,o._)("a",{class:"pagination__link pagination__link--arrow",href:"#","aria-label":"Следующая страница"},[(0,o._)("svg",{width:"8",height:"14",fill:"currentColor"},[(0,o._)("use",{"xlink:href":"#icon-arrow-right"})])])],-1);function X(t,e,r,s,i,l){return(0,o.wg)(),(0,o.iD)("ul",Y,[G,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.pages,(t=>((0,o.wg)(),(0,o.iD)("li",{class:"pagination__item",key:t},[(0,o._)("a",{href:"#",class:(0,u.C_)(["pagination__link",{"pagination__link--current":t===l.page}]),onClick:(0,a.iM)((e=>l.paginate(t)),["prevent"])},(0,u.zw)(t),11,R)])))),128)),Q])}var J={props:["modelValue","count","perPage"],computed:{page(){return this.modelValue},pages(){return Math.ceil(this.count/this.perPage)}},methods:{paginate(t){this.$emit("update:modelValue",t)}}};const tt=(0,h.Z)(J,[["render",X]]);var et=tt;const rt={class:"filter"},at=(0,o._)("h2",{class:"filter__title"},"Фильтры",-1),ot={class:"form__block"},st=(0,o._)("legend",{class:"form__legend"},"Цена",-1),it={class:"form__label form__label--price"},lt=(0,o._)("span",{class:"form__value"},"От",-1),ct={class:"form__label form__label--price"},nt=(0,o._)("span",{class:"form__value"},"До",-1),ut={class:"form__block"},dt=(0,o._)("legend",{class:"form__legend"},"Категория",-1),_t={class:"form__label form__label--select"},pt=(0,o._)("option",{value:"0"},"Все категории",-1),mt=["value"],ht=(0,o._)("button",{class:"filter__submit button button--primery",type:"submit"}," Применить ",-1);function ft(t,e,r,s,i,l){return(0,o.wg)(),(0,o.iD)("aside",rt,[at,(0,o._)("form",{class:"filter__form form",action:"#",method:"get",onSubmit:e[4]||(e[4]=(0,a.iM)(((...t)=>l.submit&&l.submit(...t)),["prevent"]))},[(0,o._)("fieldset",ot,[st,(0,o._)("label",it,[(0,o.wy)((0,o._)("input",{class:"form__input",type:"text",name:"min-price","onUpdate:modelValue":e[0]||(e[0]=t=>i.currentPriceFrom=t)},null,512),[[a.nr,i.currentPriceFrom,void 0,{number:!0}]]),lt]),(0,o._)("label",ct,[(0,o.wy)((0,o._)("input",{class:"form__input",type:"text",name:"max-price","onUpdate:modelValue":e[1]||(e[1]=t=>i.currentPriceTo=t)},null,512),[[a.nr,i.currentPriceTo,void 0,{number:!0}]]),nt])]),(0,o._)("fieldset",ut,[dt,(0,o._)("label",_t,[(0,o.wy)((0,o._)("select",{class:"form__select",name:"category","onUpdate:modelValue":e[2]||(e[2]=t=>i.currentCategoryId=t)},[pt,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.categories,(t=>((0,o.wg)(),(0,o.iD)("option",{value:t.id,key:t.id},(0,u.zw)(t.title),9,mt)))),128))],512),[[a.bM,i.currentCategoryId,void 0,{number:!0}]])])]),ht,(0,o._)("button",{class:"filter__reset button button--second",type:"button",onClick:e[3]||(e[3]=(0,a.iM)(((...t)=>l.reset&&l.reset(...t)),["prevent"]))}," Сбросить ")],32)])}var gt=r(6154);const bt="https://vue-study.skillbox.cc";var vt={data(){return{currentPriceFrom:0,currentPriceTo:0,currentCategoryId:0,categoriesData:null}},props:["priceFrom","priceTo","categoryId"],computed:{categories(){return this.categoriesData?this.categoriesData.items:[]}},watch:{priceFrom(t){this.currentPriceFrom=t},priceTo(t){this.currentPriceTo=t},categoryId(t){this.currentCategoryId=t}},methods:{submit(){this.$emit("update:priceFrom",this.currentPriceFrom),this.$emit("update:priceTo",this.currentPriceTo),this.$emit("update:categoryId",this.currentCategoryId)},reset(){this.$emit("update:priceFrom",0),this.$emit("update:priceTo",0),this.$emit("update:categoryId",0)},loadCategories(){gt.Z.get(bt+"/api/productCategories").then((t=>this.categoriesData=t.data))}},created(){this.loadCategories()}};const yt=(0,h.Z)(vt,[["render",ft]]);var Pt=yt,kt={components:{ProductList:N,BasePagination:et,ProductFilter:Pt},data(){return{filterPriceFrom:0,filterPriceTo:0,filterCategoryId:0,page:1,productsPerPage:6,productsData:null,productsLoading:!1,productsLoadingFailed:!1}},computed:{products(){return this.productsData?this.productsData.items.map((t=>({...t,image:t.image.file.url}))):[]},countProducts(){return this.productsData?this.productsData.pagination.total:0}},methods:{loadProducts(){this.productsLoadingFailed=!1,this.productsLoading=!0,clearTimeout(this.loadProductsTimer),this.loadProductsTimer=setTimeout((()=>{gt.Z.get(bt+"/api/products",{params:{page:this.page,limit:this.productsPerPage,categoryId:this.filterCategoryId,minPrice:this.filterPriceFrom,maxPrice:this.filterPriceTo}}).then((t=>this.productsData=t.data)).catch((()=>this.productsLoadingFailed=!0)).then((()=>this.productsLoading=!1))}),100)}},watch:{page(){this.loadProducts()},filterPriceFrom(){this.loadProducts()},filterPriceTo(){this.loadProducts()},filterCategoryId(){this.loadProducts()}},created(){this.loadProducts()}};const wt=(0,h.Z)(kt,[["render",z]]);var Ct=wt;function Dt(t,e,r,a,s,i){return(0,o.wg)(),(0,o.iD)("h1",null,"NOT FOUND")}var It={data(){}};const Tt=(0,h.Z)(It,[["render",Dt]]);var At=Tt;const Ft={key:0,class:"content container"},xt={key:1,class:"content container"},Vt={key:2,class:"content container"},zt={class:"content__top"},Et={class:"breadcrumbs"},Ot={class:"breadcrumbs__item"},Ut=(0,o.Uk)(" Каталог "),$t={class:"breadcrumbs__item breadcrumbs__link"},Zt={class:"breadcrumbs__item"},Kt={class:"breadcrumbs__link"},Mt={class:"item"},St={class:"item__pics pics"},Lt={class:"pics__wrapper"},Wt=["src","alt"],Bt={class:"item__info"},jt={class:"item__code"},Ht={class:"item__title"},qt={class:"item__form"},Nt={class:"item__price"},Yt={class:"item__row"},Gt={class:"form__counter"},Rt=(0,o._)("svg",{width:"12",height:"12",fill:"currentColor"},[(0,o._)("use",{"xlink:href":"#icon-minus"})],-1),Qt=[Rt],Xt=(0,o._)("svg",{width:"12",height:"12",fill:"currentColor"},[(0,o._)("use",{"xlink:href":"#icon-plus"})],-1),Jt=[Xt],te=["disabled"],ee={key:0},re=(0,o.Uk)(" Товар добавлен в корзину "),ae=(0,o.uE)('<div class="item__desc"><ul class="tabs"><li class="tabs__item"><a class="tabs__link tabs__link--current"> Описание </a></li><li class="tabs__item"><a class="tabs__link" href="#"> Характеристики </a></li><li class="tabs__item"><a class="tabs__link" href="#"> Гарантия </a></li><li class="tabs__item"><a class="tabs__link" href="#"> Оплата и доставка </a></li></ul><div class="item__content"><p> Навигация GPS, ГЛОНАСС, BEIDOU Galileo и QZSS<br> Синхронизация со смартфоном<br> Связь по Bluetooth Smart, ANT+ и Wi-Fi<br> Поддержка сторонних приложений<br></p><a href="#"> Все характеристики </a><h3>Что это?</h3><p> Wahoo ELEMNT BOLT GPS – это велокомпьютер, который позволяет оптимизировать свои велотренировки, сделав их максимально эффективными. Wahoo ELEMNT BOLT GPS синхронизируется с датчиками по ANT+, объединяя полученную с них информацию. Данные отображаются на дисплее, а также сохраняются на смартфоне. При этом на мобильное устройство можно установить как фирменное приложение, так и различные приложения сторонних разработчиков. Велокомпьютер точно отслеживает местоположение, принимая сигнал с целого комплекса спутников. Эта информация позволяет смотреть уже преодоленные маршруты и планировать новые велопрогулки. </p><h3>Дизайн</h3><p> Велокомпьютер Wahoo ELEMNT BOLT очень компактный. Размеры устройства составляют всего 74,6 x 47,3 x 22,1 мм. что не превышает габариты смартфона. Корпус гаджета выполнен из черного пластика. На обращенной к пользователю стороне расположен дисплей диагональю 56 мм. На дисплей выводятся координаты и скорость, а также полученная со смартфона и синхронизированных датчиков информация: интенсивность, скорость вращения педалей, пульс и т.д. (датчики не входят в комплект поставки). Корпус велокомпьютера имеет степень защиты от влаги IPX7. Это означает, что устройство не боится пыли, а также выдерживает кратковременное (до 30 минут) погружение в воду на глубину не более 1 метра. </p></div></div>',1);function oe(t,e,r,s,i,l){const c=(0,o.up)("router-link"),n=(0,o.up)("BaseModal");return t.productLoading?((0,o.wg)(),(0,o.iD)("main",Ft,"Загрузка...")):t.productData?((0,o.wg)(),(0,o.iD)("main",Vt,[(0,o._)("div",zt,[(0,o._)("ul",Et,[(0,o._)("li",Ot,[(0,o.Wm)(c,{class:"breadcrumbs__link",to:{name:"main"}},{default:(0,o.w5)((()=>[Ut])),_:1})]),(0,o._)("li",$t,(0,u.zw)(t.category.title),1),(0,o._)("li",Zt,[(0,o._)("a",Kt,(0,u.zw)(t.product.title),1)])])]),(0,o._)("section",Mt,[(0,o._)("div",St,[(0,o._)("div",Lt,[(0,o._)("img",{width:"570",height:"570",src:t.product.image.file.url,alt:t.product.title},null,8,Wt)])]),(0,o._)("div",Bt,[(0,o._)("span",jt,"Артикул: "+(0,u.zw)(t.product.id),1),(0,o._)("h2",Ht,(0,u.zw)(t.product.title),1),(0,o._)("div",qt,[(0,o._)("form",{class:"form",action:"#",method:"POST",onSubmit:e[4]||(e[4]=(0,a.iM)(((...e)=>t.doAddToCart&&t.doAddToCart(...e)),["prevent"]))},[(0,o._)("b",Nt,"Цена: "+(0,u.zw)(t.pricePretty)+" ₽ ",1),(0,o._)("div",Yt,[(0,o._)("div",Gt,[(0,o._)("button",{type:"button","aria-label":"Убрать один товар",onClick:e[0]||(e[0]=(0,a.iM)((e=>{t.productAmount>1&&t.productAmount--}),["prevent"]))},Qt),(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=e=>t.productAmount=e)},null,512),[[a.nr,t.productAmount,void 0,{number:!0}]]),(0,o._)("button",{type:"button","aria-label":"Добавить один товар",onClick:e[2]||(e[2]=(0,a.iM)((e=>t.productAmount++),["prevent"]))},Jt)]),(0,o._)("button",{class:"button button--primery",type:"submit",disabled:t.productAddSending}," В корзину ",8,te),t.productAmount>1?((0,o.wg)(),(0,o.iD)("span",ee," Итого: "+(0,u.zw)(Intl.NumberFormat().format(t.product.price*t.productAmount))+" ₽",1)):(0,o.kq)("",!0),(0,o.Wm)(n,{open:t.isShowAddedMessage,"onUpdate:open":e[3]||(e[3]=e=>t.isShowAddedMessage=e),to:"#teleport-target"},{default:(0,o.w5)((()=>[re])),_:1},8,["open"])])],32)])]),ae])])):((0,o.wg)(),(0,o.iD)("main",xt," Ошибка загрузки! "))}const se=t=>((0,o.dD)("data-v-813eeab0"),t=t(),(0,o.Cn)(),t),ie=se((()=>(0,o._)("div",{class:"teleport-blackout"},null,-1))),le={ref:"content",class:"teleport-modal__content"};function ce(t,e,r,a,s,i){return r.open?((0,o.wg)(),(0,o.j4)(o.lR,{key:0,to:"#teleport-target"},[ie,(0,o._)("div",{class:"teleport-modal",onClick:e[0]||(e[0]=(...t)=>i.onOutsideClick&&i.onOutsideClick(...t))},[(0,o._)("div",le,[(0,o.WI)(t.$slots,"default",{},void 0,!0)],512)])])):(0,o.kq)("",!0)}var ne={props:{open:{type:Boolean}},methods:{onOutsideClick(t){t.target!==this.$refs.content&&t.target.contains(this.$refs.content)&&this.doClose()},doClose(){this.$emit("update:open",!1)}}};const ue=(0,h.Z)(ne,[["render",ce],["__scopeId","data-v-813eeab0"]]);var de=ue,_e=r(2262),pe=(0,o.aZ)({components:{BaseModal:de},setup(){const t=(0,b.oR)(),e=(0,k.yj)(),r=(0,_e.iH)(1),a=(0,_e.iH)(null),s=(0,o.Fl)((()=>L(i.value.price))),i=(0,o.Fl)((()=>a.value)),l=(0,o.Fl)((()=>a.value.category)),c=(0,_e.iH)(!1),n=(0,_e.iH)(!1),u=(0,_e.iH)(!1),d=()=>{c.value=!1,n.value=!0,t.dispatch("addProductToCart",{productId:i.value.id,amount:r.value}).then((()=>{u.value=!0,c.value=!0,n.value=!1}))},_=(0,_e.iH)(!1),p=(0,_e.iH)(!1),m=()=>{_.value=!0,p.value=!1,gt.Z.get(bt+"/api/products/"+e.params.id).then((t=>a.value=t.data)).catch((()=>p.value=!0)).then((()=>_.value=!1))};return m(),{productAmount:r,productData:a,productLoading:_,productLoadingFailed:p,productAdded:c,productAddSending:n,isShowAddedMessage:u,pricePretty:s,product:i,category:l,doAddToCart:d,doLoadProduct:m}}});const me=(0,h.Z)(pe,[["render",oe]]);var he=me;const fe={class:"content container"},ge={class:"content__top"},be=(0,o.uE)('<ul class="breadcrumbs"><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="index.html"> Каталог </a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link"> Корзина </a></li></ul><h1 class="content__title">Корзина</h1>',2),ve={class:"content__info"},ye={class:"cart"},Pe={class:"cart__form form",action:"#",method:"POST"},ke={class:"cart__field"},we={class:"cart__list"},Ce={class:"cart__block"},De=(0,o._)("p",{class:"cart__desc"}," Мы посчитаем стоимость доставки на следующем этапе ",-1),Ie={class:"cart__price"},Te=(0,o.Uk)(" Итого: "),Ae=["disabled","onClick"];function Fe(t,e,r,a,s,i){const l=(0,o.up)("CartItem"),c=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("main",fe,[(0,o._)("div",ge,[be,(0,o._)("span",ve," Выбрано товаров: "+(0,u.zw)(t.products.length),1)]),(0,o._)("section",ye,[(0,o._)("form",Pe,[(0,o._)("div",ke,[(0,o._)("ul",we,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.products,(t=>((0,o.wg)(),(0,o.j4)(l,{key:t.productId,item:t},null,8,["item"])))),128))])]),(0,o._)("div",Ce,[De,(0,o._)("p",Ie,[Te,(0,o._)("span",null,(0,u.zw)(i.totalPricePretty)+" ₽",1)]),(0,o.Wm)(c,{to:{name:"order"},custom:""},{default:(0,o.w5)((({navigate:e})=>[(0,o._)("button",{class:"cart__button button button--primery",type:"submit",disabled:!t.totalPrice,onClick:e}," Оформить заказ ",8,Ae)])),_:1})])])])])}const xe={class:"cart__item product"},Ve={class:"product__pic"},ze=["src","alt"],Ee={class:"product__title"},Oe={class:"product__code"},Ue={class:"product__counter form__counter"},$e=(0,o._)("svg",{width:"10",height:"10",fill:"currentColor"},[(0,o._)("use",{"xlink:href":"#icon-minus"})],-1),Ze=[$e],Ke=(0,o._)("svg",{width:"10",height:"10",fill:"currentColor"},[(0,o._)("use",{"xlink:href":"#icon-plus"})],-1),Me=[Ke],Se={class:"product__price"},Le=(0,o._)("svg",{width:"20",height:"20",fill:"currentColor"},[(0,o._)("use",{"xlink:href":"#icon-close"})],-1),We=[Le];function Be(t,e,r,s,i,l){return(0,o.wg)(),(0,o.iD)("li",xe,[(0,o._)("div",Ve,[(0,o._)("img",{src:r.item.product.image,width:"120",height:"120",alt:r.item.product.title},null,8,ze)]),(0,o._)("h3",Ee,(0,u.zw)(r.item.product.title),1),(0,o._)("span",Oe," Артикул: "+(0,u.zw)(r.item.product.id),1),(0,o._)("div",Ue,[(0,o._)("button",{type:"button","aria-label":"Убрать один товар",onClick:e[0]||(e[0]=(0,a.iM)((t=>{l.amount>1&&l.amount--}),["prevent"]))},Ze),(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>l.amount=t),name:"count"},null,512),[[a.nr,l.amount,void 0,{number:!0}]]),(0,o._)("button",{type:"button","aria-label":"Добавить один товар",onClick:e[2]||(e[2]=(0,a.iM)((t=>l.amount++),["prevent"]))},Me)]),(0,o._)("b",Se,(0,u.zw)(l.totalPricePretty)+" ₽ ",1),(0,o._)("button",{class:"product__del button-del",type:"button","aria-label":"Удалить товар из корзины",onClick:e[3]||(e[3]=(0,a.iM)((t=>l.deleteProduct(r.item.product.id)),["prevent"]))},We)])}var je={props:["item"],computed:{totalPricePretty(){return L(this.item.amount*this.item.product.price)},amount:{get(){return this.item.amount},set(t){this.$store.dispatch("updateCartProductAmount",{productId:this.item.productId,amount:t})}}},methods:{deleteProduct(t){this.$store.dispatch("deleteCartProduct",t)}}};const He=(0,h.Z)(je,[["render",Be]]);var qe=He,Ne={components:{CartItem:qe},computed:{...(0,b.Se)({products:"cartDetailProducts",totalPrice:"cartTotalPrice"}),totalPricePretty(){return L(this.totalPrice)}}};const Ye=(0,h.Z)(Ne,[["render",Fe]]);var Ge=Ye;const Re={class:"content container"},Qe=(0,o.uE)('<div class="content__top"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="index.html"> Каталог </a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="cart.html"> Корзина </a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link"> Оформление заказа </a></li></ul><h1 class="content__title">Корзина</h1></div>',1),Xe={class:"cart"},Je={class:"cart__field"},tr={class:"cart__data"},er=(0,o.uE)('<div class="cart__options"><h3 class="cart__title">Доставка</h3><ul class="cart__options options"><li class="options__item"><label class="options__label"><input class="options__radio sr-only" type="radio" name="delivery" value="0" checked=""><span class="options__value"> Самовывоз <b>бесплатно</b></span></label></li><li class="options__item"><label class="options__label"><input class="options__radio sr-only" type="radio" name="delivery" value="500"><span class="options__value"> Курьером <b>500 ₽</b></span></label></li></ul><h3 class="cart__title">Оплата</h3><ul class="cart__options options"><li class="options__item"><label class="options__label"><input class="options__radio sr-only" type="radio" name="pay" value="card"><span class="options__value"> Картой при получении </span></label></li><li class="options__item"><label class="options__label"><input class="options__radio sr-only" type="radio" name="pay" value="cash"><span class="options__value"> Наличными при получении </span></label></li></ul></div>',1),rr={class:"cart__block"},ar={class:"cart__orders"},or=["item"],sr={class:"cart__total"},ir=(0,o._)("p",null,[(0,o.Uk)("Доставка: "),(0,o._)("b",null,"500 ₽")],-1),lr=(0,o.Uk)(" Итого: "),cr=(0,o._)("button",{class:"cart__button button button--primery",type:"submit"}," Оформить заказ ",-1),nr={key:0,class:"cart__error form__error-block"},ur=(0,o._)("h4",null,"Заявка не отправлена!",-1);function dr(t,e,r,s,i,l){const c=(0,o.up)("BaseFormText"),n=(0,o.up)("BaseFormTextArea");return(0,o.wg)(),(0,o.iD)("main",Re,[Qe,(0,o._)("section",Xe,[(0,o._)("form",{class:"cart__form form",action:"#",method:"POST",onSubmit:e[5]||(e[5]=(0,a.iM)(((...t)=>l.order&&l.order(...t)),["prevent"]))},[(0,o._)("div",Je,[(0,o._)("div",tr,[(0,o.Wm)(c,{modelValue:i.formData.name,"onUpdate:modelValue":e[0]||(e[0]=t=>i.formData.name=t),error:i.formError.name,title:"ФИО",placeholder:"Введите ваше полное имя"},null,8,["modelValue","error"]),(0,o.Wm)(c,{modelValue:i.formData.address,"onUpdate:modelValue":e[1]||(e[1]=t=>i.formData.address=t),error:i.formError.address,title:"Адрес доставки",placeholder:"Введите ваш адрес"},null,8,["modelValue","error"]),(0,o.Wm)(c,{modelValue:i.formData.phone,"onUpdate:modelValue":e[2]||(e[2]=t=>i.formData.phone=t),error:i.formError.phone,title:"Телефон",placeholder:"Введите ваш телефон"},null,8,["modelValue","error"]),(0,o.Wm)(c,{modelValue:i.formData.email,"onUpdate:modelValue":e[3]||(e[3]=t=>i.formData.email=t),error:i.formError.email,title:"Email",placeholder:"Введите ваш Email"},null,8,["modelValue","error"]),(0,o.Wm)(n,{title:"Комментарий к заказу",modelValue:i.formData.comment,"onUpdate:modelValue":e[4]||(e[4]=t=>i.formData.comment=t),error:i.formError.comment,placeholder:"Ваши пожелания"},null,8,["modelValue","error"])]),er]),(0,o._)("div",rr,[(0,o._)("ul",ar,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.products,(t=>((0,o.wg)(),(0,o.iD)("li",{class:"cart__order",key:t.productId,item:t},[(0,o._)("h3",null,(0,u.zw)(t.product.title),1),(0,o._)("b",null,(0,u.zw)(Intl.NumberFormat().format(t.product.price))+" ₽",1),(0,o.Uk)(" "+(0,u.zw)(t.amount)+" шт. ",1),(0,o._)("span",null,"Артикул: "+(0,u.zw)(t.productId),1)],8,or)))),128))]),(0,o._)("div",sr,[ir,(0,o._)("p",null,[lr,(0,o._)("b",null,(0,u.zw)(l.totalPricePretty)+" ₽",1)])]),cr]),i.formErrorMessage?((0,o.wg)(),(0,o.iD)("div",nr,[ur,(0,o._)("p",null,(0,u.zw)(i.formErrorMessage),1)])):(0,o.kq)("",!0)],32)])])}r(7658);const _r=["type","placeholder"];function pr(t,e,r,s,i,l){const c=(0,o.up)("BaseFormField");return(0,o.wg)(),(0,o.j4)(c,{title:t.title,error:t.error},{default:(0,o.w5)((()=>[(0,o.wy)((0,o._)("input",{class:"form__input","onUpdate:modelValue":e[0]||(e[0]=e=>t.dataValue=e),type:r.type,name:"name",placeholder:t.placeholder},null,8,_r),[[a.YZ,t.dataValue]])])),_:1},8,["title","error"])}const mr={class:"form__label"},hr={class:"form__value"},fr={key:0,class:"form__error"};function gr(t,e,r,a,s,i){return(0,o.wg)(),(0,o.iD)("label",mr,[(0,o.WI)(t.$slots,"default"),(0,o._)("span",hr,(0,u.zw)(r.title),1),r.error?((0,o.wg)(),(0,o.iD)("span",fr,(0,u.zw)(r.error),1)):(0,o.kq)("",!0)])}var br={props:["title","error"]};const vr=(0,h.Z)(br,[["render",gr]]);var yr=vr,Pr={props:["title","error","placeholder","modelValue"],components:{BaseFormField:yr},computed:{dataValue:{get(){return this.modelValue},set(t){this.$emit("update:modelValue",t)}}}},kr={props:{type:{default:"text"}},mixins:[Pr]};const wr=(0,h.Z)(kr,[["render",pr]]);var Cr=wr;const Dr=["placeholder"];function Ir(t,e,r,s,i,l){const c=(0,o.up)("BaseFormField");return(0,o.wg)(),(0,o.j4)(c,{title:t.title,error:t.error},{default:(0,o.w5)((()=>[(0,o.wy)((0,o._)("textarea",{class:"form__input form__input--area","onUpdate:modelValue":e[0]||(e[0]=e=>t.dataValue=e),name:"comments",placeholder:t.placeholder},null,8,Dr),[[a.nr,t.dataValue]])])),_:1},8,["title","error"])}var Tr={mixins:[Pr]};const Ar=(0,h.Z)(Tr,[["render",Ir]]);var Fr=Ar,xr={components:{BaseFormText:Cr,BaseFormTextArea:Fr},data(){return{formData:{},formError:{},formErrorMessage:""}},computed:{...(0,b.Se)({products:"cartDetailProducts",totalPrice:"cartTotalPrice"}),totalPricePretty(){return L(500+this.totalPrice)}},methods:{order(){gt.Z.post(bt+"/api/orders",{...this.formData},{params:{userAccessKey:this.$store.state.userAccessKey}}).then((t=>{this.$store.commit("resetCart"),this.$store.commit("updateOrderInfo",t.data),this.$router.push({name:"orderInfo",params:{id:t.data.id}})})).catch((t=>{this.formError=t.response.data.error.request||{},this.formErrorMessage=t.response.data.error.message}))}}};const Vr=(0,h.Z)(xr,[["render",dr]]);var zr=Vr;const Er={class:"content container"},Or=(0,o.uE)('<div class="content__top"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="index.html"> Каталог </a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="cart.html"> Корзина </a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link"> Оформление заказа </a></li></ul><h1 class="content__title">Заказ оформлен <span>№ 2361</span></h1></div>',1),Ur={class:"cart"},$r={class:"cart__form form",action:"#",method:"POST"},Zr={class:"cart__field"},Kr=(0,o._)("p",{class:"cart__message"}," Благодарим за выбор нашего магазина. На Вашу почту придет письмо с деталями заказа. Наши менеджеры свяжутся с Вами в течение часа для уточнения деталей доставки. ",-1),Mr={class:"dictionary"},Sr={class:"dictionary__item"},Lr=(0,o._)("span",{class:"dictionary__key"}," Получатель ",-1),Wr={class:"dictionary__value"},Br={class:"dictionary__item"},jr=(0,o._)("span",{class:"dictionary__key"}," Адрес доставки ",-1),Hr={class:"dictionary__value"},qr={class:"dictionary__item"},Nr=(0,o._)("span",{class:"dictionary__key"}," Телефон ",-1),Yr={class:"dictionary__value"},Gr={class:"dictionary__item"},Rr=(0,o._)("span",{class:"dictionary__key"}," Email ",-1),Qr={class:"dictionary__value"},Xr=(0,o._)("li",{class:"dictionary__item"},[(0,o._)("span",{class:"dictionary__key"}," Способ оплаты "),(0,o._)("span",{class:"dictionary__value"}," картой при получении ")],-1);function Jr(t,e,r,a,s,i){return(0,o.wg)(),(0,o.iD)("main",Er,[Or,(0,o._)("section",Ur,[(0,o._)("form",$r,[(0,o._)("div",Zr,[Kr,(0,o._)("ul",Mr,[(0,o._)("li",Sr,[Lr,(0,o._)("span",Wr,(0,u.zw)(this.$store.state.orderInfo.name),1)]),(0,o._)("li",Br,[jr,(0,o._)("span",Hr,(0,u.zw)(this.$store.state.orderInfo.address),1)]),(0,o._)("li",qr,[Nr,(0,o._)("span",Yr,(0,u.zw)(this.$store.state.orderInfo.phone),1)]),(0,o._)("li",Gr,[Rr,(0,o._)("span",Qr,(0,u.zw)(this.$store.state.orderInfo.email),1)]),Xr])])])])])}var ta={created(){this.$store.state.orderInfo&&this.$store.state.orderInfo.id===this.$route.params.id||this.$store.dispatch("loadOrderInfo",this.$route.params.id)}};const ea=(0,h.Z)(ta,[["render",Jr]]);var ra=ea,aa=r(3076),oa=r.n(aa);const sa=[{name:"main",component:Ct,path:"/"},{name:"product",component:he,path:"/product/:id"},{name:"cart",component:Ge,path:"/cart"},{name:"order",component:zr,path:"/order"},{name:"orderInfo",component:ra,path:"/order/:id"},{name:"notFound",component:At,path:"/:pathMatch(.*)*"}],ia=(0,k.p7)({history:(0,k.r5)(oa().publicPath),routes:sa});var la=ia,ca=(0,b.MT)({state:{cartProducts:[],userAccessKey:null,cartProductsData:[],orderInfo:null},mutations:{updateOrderInfo(t,e){t.orderInfo=e},resetCart(t){t.cartProducts=[],t.cartProductsData=[]},updateCartProductAmount(t,{productId:e,amount:r}){const a=t.cartProducts.find((t=>t.productId===e));a&&(a.amount=r)},updateUserAccessKey(t,e){t.userAccessKey=e},updateCartProductsData(t,e){t.cartProductsData=e},syncCartProducts(t){t.cartProducts=t.cartProductsData.map((t=>({productId:t.product.id,amount:t.quantity})))}},getters:{cartDetailProducts(t){return t.cartProducts.map((e=>{const r=t.cartProductsData.find((t=>t.product.id===e.productId)).product;return{...e,product:{...r,image:r.image.file.url}}}))},cartTotalPrice(t,e){return e.cartDetailProducts.reduce(((t,e)=>e.product.price*e.amount+t),0)}},actions:{loadOrderInfo(t,e){return gt.Z.get(bt+"/api/orders/"+e,{params:{userAccessKey:t.state.userAccessKey}}).then((e=>{t.commit("updateOrderInfo",e.data)}))},loadCart(t){return gt.Z.get(bt+"/api/baskets",{params:{userAccessKey:t.state.userAccessKey}}).then((e=>{t.state.userAccessKey||(localStorage.setItem("userAccessKey",e.data.user.accessKey),t.commit("updateUserAccessKey",e.data.user.accessKey)),t.commit("updateCartProductsData",e.data.items),t.commit("syncCartProducts")}))},addProductToCart(t,{productId:e,amount:r}){return new Promise((t=>setTimeout(t,100))).then((()=>gt.Z.post(bt+"/api/baskets/products",{productId:e,quantity:r},{params:{userAccessKey:t.state.userAccessKey}}).then((e=>{t.commit("updateCartProductsData",e.data.items),t.commit("syncCartProducts")}))))},updateCartProductAmount(t,{productId:e,amount:r}){if(t.commit("updateCartProductAmount",{productId:e,amount:r}),!(r<1))return gt.Z.put(bt+"/api/baskets/products",{productId:e,quantity:r},{params:{userAccessKey:t.state.userAccessKey}}).then((e=>{t.commit("updateCartProductsData",e.data.items)})).catch((()=>{t.commit("syncCartProducts")}))},deleteCartProduct(t,e){return gt.Z.delete(bt+"/api/baskets/products",{data:{productId:e},params:{userAccessKey:t.state.userAccessKey}}).then((e=>{t.commit("updateCartProductsData",e.data.items),t.commit("syncCartProducts")})).catch((()=>{}))}}});const na=(0,a.ri)({render:()=>(0,o.h)(P)});na.use(la),na.use(ca),na.mount("#app")},3076:function(t){t.exports={publicPath:"/vue-app/"}}},e={};function r(a){var o=e[a];if(void 0!==o)return o.exports;var s=e[a]={exports:{}};return t[a].call(s.exports,s,s.exports,r),s.exports}r.m=t,function(){var t=[];r.O=function(e,a,o,s){if(!a){var i=1/0;for(u=0;u<t.length;u++){a=t[u][0],o=t[u][1],s=t[u][2];for(var l=!0,c=0;c<a.length;c++)(!1&s||i>=s)&&Object.keys(r.O).every((function(t){return r.O[t](a[c])}))?a.splice(c--,1):(l=!1,s<i&&(i=s));if(l){t.splice(u--,1);var n=o();void 0!==n&&(e=n)}}return e}s=s||0;for(var u=t.length;u>0&&t[u-1][2]>s;u--)t[u]=t[u-1];t[u]=[a,o,s]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var a in e)r.o(e,a)&&!r.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};r.O.j=function(e){return 0===t[e]};var e=function(e,a){var o,s,i=a[0],l=a[1],c=a[2],n=0;if(i.some((function(e){return 0!==t[e]}))){for(o in l)r.o(l,o)&&(r.m[o]=l[o]);if(c)var u=c(r)}for(e&&e(a);n<i.length;n++)s=i[n],r.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return r.O(u)},a=self["webpackChunkmagazin"]=self["webpackChunkmagazin"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=r.O(void 0,[998],(function(){return r(90)}));a=r.O(a)})();
//# sourceMappingURL=app.eef7f505.js.map